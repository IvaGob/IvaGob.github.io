{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import TourCard from\"./TourCard\";import'../index.css';import{initializeApp}from\"https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js\";import{getFirestore,collection,getDocs}from\"https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyB1JR1fYBr3xUDCEJSE67FF8D2gRlSdPcY\",authDomain:\"hot-tours-39775.firebaseapp.com\",projectId:\"hot-tours-39775\",storageBucket:\"hot-tours-39775.firebasestorage.app\",messagingSenderId:\"299242912883\",appId:\"1:299242912883:web:e2f4207f55e72b165f7e06\",measurementId:\"G-TKWTBWYCZZ\"};const app=initializeApp(firebaseConfig);const db=getFirestore(app);const TourList=()=>{const[initialTours,setInitialTours]=useState([]);// <-- ми зберігаємо тут оригінальні дані\nconst[tours,setTours]=useState([]);// <-- це вже поточні (відфільтровані або відсортовані)\nconst[searchTerm,setSearchTerm]=useState(\"\");const[sorted,setSorted]=useState(false);// Завантаження з Firestore при першому запуску\nuseEffect(()=>{const fetchTours=async()=>{const querySnapshot=await getDocs(collection(db,\"tours\"));const toursArray=querySnapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setInitialTours(toursArray);setTours(toursArray);};fetchTours();},[]);const handleSort=()=>{const sortedTours=[...tours].sort((a,b)=>a.price-b.price);setTours(sortedTours);setSorted(true);};const handleSearch=()=>{const filteredTours=initialTours.filter(tour=>tour.title.toLowerCase().includes(searchTerm.toLowerCase()));setTours(filteredTours);};return/*#__PURE__*/_jsxs(\"div\",{className:\"tour-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-div\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSort,className:\"sort-button\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0421\\u043E\\u0440\\u0442\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0437\\u0430 \\u0446\\u0456\\u043D\\u043E\\u044E (\\u0432\\u0456\\u0434 \\u0434\\u0435\\u0448\\u0435\\u0432\\u0448\\u0438\\u0445)\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-div\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-bar\",type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043D\\u0430\\u0437\\u0432\\u0443 \\u043A\\u0440\\u0430\\u0457\\u043D\\u0438...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:\"search-button\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041F\\u043E\\u0448\\u0443\\u043A\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tourListDiv\",children:tours.map((tour,index)=>/*#__PURE__*/_jsx(TourCard,{tour:tour,index:index},index))})]});};export default TourList;","map":{"version":3,"names":["React","useEffect","useState","TourCard","initializeApp","getFirestore","collection","getDocs","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","db","TourList","initialTours","setInitialTours","tours","setTours","searchTerm","setSearchTerm","sorted","setSorted","fetchTours","querySnapshot","toursArray","docs","map","doc","id","data","handleSort","sortedTours","sort","a","b","price","handleSearch","filteredTours","filter","tour","title","toLowerCase","includes","className","children","onClick","type","placeholder","value","onChange","e","target","index"],"sources":["C:/Users/dacko/my-react-app/src/components/TourList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport TourCard from \"./TourCard\";\r\nimport '../index.css';\r\n\r\nimport { initializeApp } from \"https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js\"\r\nimport { getFirestore, collection, getDocs } from \"https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js\"\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB1JR1fYBr3xUDCEJSE67FF8D2gRlSdPcY\",\r\n  authDomain: \"hot-tours-39775.firebaseapp.com\",\r\n  projectId: \"hot-tours-39775\",\r\n  storageBucket: \"hot-tours-39775.firebasestorage.app\",\r\n  messagingSenderId: \"299242912883\",\r\n  appId: \"1:299242912883:web:e2f4207f55e72b165f7e06\",\r\n  measurementId: \"G-TKWTBWYCZZ\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\n\r\n\r\n\r\n\r\nconst TourList = () => {\r\n  const [initialTours, setInitialTours] = useState([]); // <-- ми зберігаємо тут оригінальні дані\r\n  const [tours, setTours] = useState([]);               // <-- це вже поточні (відфільтровані або відсортовані)\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [sorted, setSorted] = useState(false);\r\n\r\n  // Завантаження з Firestore при першому запуску\r\n  useEffect(() => {\r\n    const fetchTours = async () => {\r\n      const querySnapshot = await getDocs(collection(db, \"tours\"));\r\n      const toursArray = querySnapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n      setInitialTours(toursArray);\r\n      setTours(toursArray);\r\n    };\r\n\r\n    fetchTours();\r\n  }, []);\r\n\r\n  const handleSort = () => {\r\n    const sortedTours = [...tours].sort((a, b) => a.price - b.price);\r\n    setTours(sortedTours);\r\n    setSorted(true);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    const filteredTours = initialTours.filter(tour =>\r\n      tour.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setTours(filteredTours);\r\n  };\r\n\r\n  return (\r\n    \r\n    <div className=\"tour-list\">\r\n      <div className=\"control-div\">\r\n        <button onClick={handleSort} className=\"sort-button\">\r\n          <h3>Сортувати за ціною (від дешевших)</h3>\r\n        </button>\r\n        <div className=\"search-div\">\r\n          <input className=\"search-bar\" type=\"text\" placeholder=\"Введіть назву країни...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)}/>\r\n            <button onClick={handleSearch} className=\"search-button\">\r\n              <h3>Пошук</h3>\r\n            </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"tourListDiv\">\r\n        {tours.map((tour, index) => (\r\n          <TourCard key={index} tour={tour} index={index} />\r\n        ))}\r\n      </div>\r\n      \r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TourList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}