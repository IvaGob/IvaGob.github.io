{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dacko\\\\my-react-app\\\\src\\\\pages\\\\profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { initializeApp } from \"firebase/app\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB1JR1fYBr3xUDCEJSE67FF8D2gRlSdPcY\",\n  authDomain: \"hot-tours-39775.firebaseapp.com\",\n  projectId: \"hot-tours-39775\",\n  storageBucket: \"hot-tours-39775.firebasestorage.app\",\n  messagingSenderId: \"299242912883\",\n  appId: \"1:299242912883:web:e2f4207f55e72b165f7e06\",\n  measurementId: \"G-TKWTBWYCZZ\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst Profile = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    surname: \"\",\n    phoneNumber: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n\n  // Отримання користувача і його даних\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async firebaseUser => {\n      if (firebaseUser) {\n        setUser(firebaseUser);\n        const userDocRef = doc(db, \"users\", firebaseUser.email);\n        const docSnap = await getDoc(userDocRef);\n        if (docSnap.exists()) {\n          const data = docSnap.data();\n          setFormData({\n            firstName: data.name || \"\",\n            lastName: data.surname || \"\",\n            phoneNumber: data.phoneNumber || \"\"\n          });\n        }\n      }\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleChange = e => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleSave = async () => {\n    if (!user) return;\n    const userDocRef = doc(db, \"users\", user.email);\n    try {\n      await updateDoc(userDocRef, {\n        name: formData.name,\n        surname: formData.surname,\n        phoneNumber: formData.phoneNumber\n      });\n      alert(\"Дані успішно оновлено!\");\n    } catch (error) {\n      console.error(\"Помилка при оновленні даних:\", error);\n      alert(\"Помилка збереження даних.\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 23\n  }, this);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0411\\u0443\\u0434\\u044C \\u043B\\u0430\\u0441\\u043A\\u0430, \\u0443\\u0432\\u0456\\u0439\\u0434\\u0456\\u0442\\u044C \\u0443 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u041F\\u0440\\u043E\\u0444\\u0456\\u043B\\u044C \\u043A\\u043E\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"\\u0406\\u043C\\u2019\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"firstName\",\n        value: formData.firstName,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"\\u041F\\u0440\\u0456\\u0437\\u0432\\u0438\\u0449\\u0435:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"lastName\",\n        value: formData.lastName,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"phone\",\n        value: formData.phone,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      children: \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"jqjvEayNI0IS/xBLI8VvGl1g0ck=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","getAuth","onAuthStateChanged","getFirestore","doc","getDoc","updateDoc","initializeApp","jsxDEV","_jsxDEV","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","Profile","_s","user","setUser","formData","setFormData","name","surname","phoneNumber","loading","setLoading","unsubscribe","firebaseUser","userDocRef","email","docSnap","exists","data","firstName","lastName","handleChange","e","prev","target","value","handleSave","alert","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","onChange","phone","onClick","_c","$RefreshReg$"],"sources":["C:/Users/dacko/my-react-app/src/pages/profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n} from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  getDoc,\r\n  updateDoc\r\n} from \"firebase/firestore\";\r\nimport { initializeApp } from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB1JR1fYBr3xUDCEJSE67FF8D2gRlSdPcY\",\r\n  authDomain: \"hot-tours-39775.firebaseapp.com\",\r\n  projectId: \"hot-tours-39775\",\r\n  storageBucket: \"hot-tours-39775.firebasestorage.app\",\r\n  messagingSenderId: \"299242912883\",\r\n  appId: \"1:299242912883:web:e2f4207f55e72b165f7e06\",\r\n  measurementId: \"G-TKWTBWYCZZ\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\nconst Profile = () => {\r\n  const [user, setUser] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    surname: \"\",\r\n    phoneNumber: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Отримання користувача і його даних\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (firebaseUser) => {\r\n      if (firebaseUser) {\r\n        setUser(firebaseUser);\r\n        const userDocRef = doc(db, \"users\", firebaseUser.email);\r\n        const docSnap = await getDoc(userDocRef);\r\n        if (docSnap.exists()) {\r\n          const data = docSnap.data();\r\n          setFormData({\r\n            firstName: data.name || \"\",\r\n            lastName: data.surname || \"\",\r\n            phoneNumber: data.phoneNumber || \"\",\r\n          });\r\n        }\r\n      }\r\n      setLoading(false);\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!user) return;\r\n    const userDocRef = doc(db, \"users\", user.email);\r\n    try {\r\n      await updateDoc(userDocRef, {\r\n        name: formData.name,\r\n        surname: formData.surname,\r\n        phoneNumber: formData.phoneNumber,\r\n      });\r\n      alert(\"Дані успішно оновлено!\");\r\n    } catch (error) {\r\n      console.error(\"Помилка при оновленні даних:\", error);\r\n      alert(\"Помилка збереження даних.\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Завантаження...</div>;\r\n  if (!user) return <div>Будь ласка, увійдіть у систему.</div>;\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <h1>Профіль користувача</h1>\r\n      <label>\r\n        Ім’я:\r\n        <input\r\n          type=\"text\"\r\n          name=\"firstName\"\r\n          value={formData.firstName}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <label>\r\n        Прізвище:\r\n        <input\r\n          type=\"text\"\r\n          name=\"lastName\"\r\n          value={formData.lastName}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <label>\r\n        Телефон:\r\n        <input\r\n          type=\"text\"\r\n          name=\"phone\"\r\n          value={formData.phone}\r\n          onChange={handleChange}\r\n        />\r\n      </label>\r\n      <button onClick={handleSave}>Зберегти</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}